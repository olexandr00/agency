# Веб-сайт Рекламного Агентства 

Це повнофункціональний веб-сайт для рекламного агентства, розроблений з використанням стеку Node.js, Express, MySQL для бекенду та чистого HTML, CSS, JavaScript для фронтенду. Проект включає аутентифікацію користувачів, адмін-панель з CRUD-операціями для управління основними даними агентства, а також публічну частину з інформацією про послуги, команду, можливістю залишити відгук та зробити замовлення.

## Огляд Функціоналу

### Публічна частина:
*   Головна сторінка з презентацією агентства.
*   Сторінка "Про нас" з інформацією про компанію та команду.
*   Сторінка "Послуги" з можливістю перегляду послуг та додавання їх до кошика.
*   Сторінка "Відгуки", де користувачі можуть переглядати відгуки та залишати свої (після авторизації).
*   Сторінка "Контакти" з контактною інформацією та формою зворотного зв'язку.
*   Кошик та сторінка оформлення замовлення для авторизованих користувачів.
*   Реєстрація та вхід користувачів (з хешуванням паролів).
*   Можливість перегляду сайту як гість (без авторизації).

### Адміністративна панель (доступна тільки для користувачів з роллю "admin"):
*   Дашборд з базовою статистикою.
*   **CRUD + Пошук** для наступних сутностей:
    *   Користувачі (`Users`)
    *   Послуги (`Services`)
    *   Працівники (`Employees`)
    *   Посади (`Positions`)
    *   Клієнти (`Clients`)
    *   Рекламні Кампанії (`Campaigns`), включаючи управління послугами в кампанії та призначеними працівниками.
    *   Відгуки (`Reviews`) - модерація (схвалення/відхилення), видалення.
    *   Замовлення з сайту (`SiteOrders`) - перегляд деталей, зміна статусу.
    *   Повідомлення з контактної форми (`ContactMessages`) - перегляд, позначка як прочитане, видалення.
*   Можливість масової зміни цін на послуги.

## Технологічний стек

*   **Бекенд:** Node.js, Express.js
*   **База даних:** MySQL (або MariaDB)
*   **Фронтенд:** HTML5, CSS3 (чистий CSS), JavaScript (ES6+)
*   **Аутентифікація:** JWT (JSON Web Tokens), bcrypt (для хешування паролів)
*   **Інше:** `dotenv` (змінні середовища), `mysql2/promise` (MySQL драйвер), `cors`.

## Встановлення та Запуск

Для запуску проекту локально, виконайте наступні кроки:

### 1. Вимоги до системи:
*   **Node.js та npm:** Переконайтеся, що у вас встановлено Node.js (рекомендована LTS версія) та npm. Перевірити версії:
    ```bash
    node -v
    npm -v
    ```
*   **MySQL/MariaDB Сервер:** Потрібен запущений сервер MySQL або MariaDB (наприклад, через XAMPP, WAMP, MAMP, Docker або окреме встановлення).

### 2. Налаштування проекту:
   1. **Клонування репозиторію (якщо проект у Git):**
      ```bash
      git clone https://github.com/olexandr00/agency.git
      cd <назва_папки_проекту>
      ```
      Якщо ви отримали проект архівом, просто розпакуйте його.
   2. **Встановлення залежностей Node.js:**
      Перейдіть до кореневої папки проекту (де знаходиться файл `package.json`) і виконайте команду:
      ```bash
      npm install
      ```
      Ця команда завантажить всі необхідні пакети у папку `node_modules/`.

### 3. Налаштування Бази Даних:
   1. **Створення бази даних:**
      За допомогою phpMyAdmin або іншого SQL-клієнта створіть нову базу даних. За замовчуванням у проекті використовується назва `agency`.
   2. **Імпорт дампу бази даних:**
      **Дамп бази даних (`agency.sql`) знаходиться в кореневій папці цього репозиторію.** Імпортуйте цей дамп у щойно створену базу даних `agency` через phpMyAdmin (вкладка "Імпорт") або за допомогою команди в консолі `mysql`:
      ```bash
      mysql -u ваш_користувач_mysql -p agency < database_dump.sql
      ```
      Вам буде запропоновано ввести пароль для `ваш_користувач_mysql`.
   3. **Користувач БД та права доступу:**
      Переконайтеся, що користувач MySQL/MariaDB, якого ви будете використовувати (див. `.env` нижче), має всі необхідні привілеї (SELECT, INSERT, UPDATE, DELETE, CREATE, ALTER тощо) на базу даних `agency`. Якщо потрібно, створіть нового користувача:
      ```sql
      -- Приклад створення користувача (виконувати під root або привілейованим користувачем)
      CREATE USER 'agency_user'@'localhost' IDENTIFIED BY 'your_strong_password';
      GRANT ALL PRIVILEGES ON agency.* TO 'agency_user'@'localhost';
      FLUSH PRIVILEGES;
      ```
      Замініть `agency_user` та `your_strong_password` на бажані.

### 4. Налаштування змінних середовища:
   1. У кореневій папці проекту створіть файл `.env` (можете скопіювати з `.env.example`, якщо він є).
   2. Заповніть `.env` за таким шаблоном, замінивши значення на ваші реальні дані:
      ```plaintext
      # .env
      DB_HOST=127.0.0.1
      DB_USER=ваш_користувач_mysql  # Наприклад, agency_user або root
      DB_PASSWORD=ваш_пароль_до_mysql # Пароль для DB_USER
      DB_NAME=agency                 # Назва вашої бази даних
      PORT=3000                      # Порт для Node.js сервера
      JWT_SECRET=ваш_дуже_сильний_і_унікальний_секретний_ключ_для_jwt 
      ```
      **Важливо:** `JWT_SECRET` має бути надійним випадковим рядком.

### 5. Запуск проекту:
   Потрібно запустити два сервери у двох окремих вікнах терміналу з кореневої папки проекту.

   1. **Запуск Бекенд-сервера (Node.js):**
      ```bash
      npm run dev
      ```
      Ви маєте побачити повідомлення про успішний запуск сервера та підключення до БД. **Не закривайте це вікно.**

   2. **Запуск Фронтенду (для перегляду в браузері):**
      *   **Рекомендовано (з VS Code):** Відкрийте HTML-файл з папки `frontend/` (наприклад, `frontend/index.html`) та використайте розширення "Live Server" (права кнопка миші -> "Open with Live Server" або кнопка "Go Live").
      *   **Альтернатива (`http-server`):**
         ```bash
         # В новому терміналі, з папки frontend/
         cd frontend
         http-server -o 
         ```
         Потім клацніть на `index.html` у браузері.

### 6. Перший вхід як адміністратор:
   *   Після імпорту дампу БД, у таблиці `Users` вже має бути створений адміністратор.
   *   Стандартні дані для входу (якщо використовувалися приклади):
      *   Email: `admin@example.com`
      *   Пароль: `Admin123`
   *   Увійдіть під цими даними. Посилання на адмін-панель має з'явитися в футері сайту.

Тепер сайт має працювати локально!

## Структура проекту (основні папки)

*   `backend/`: Код для серверної частини (Node.js, Express).
    *   `config/`: Конфігурація (БД).
    *   `controllers/`: Логіка обробки запитів.
    *   `middleware/`: Проміжні обробники.
    *   `models/`: Взаємодія з БД.
    *   `routes/`: Маршрути API.
    *   `services/`: (Якщо є) Сервісний шар.
    *   `utils/`: Допоміжні функції.
*   `frontend/`: Код для клієнтської частини.
    *   `css/`: Файли стилів.
    *   `js/`: JavaScript файли (включаючи підпапку `admin/` для адмін-панелі).
    *   `admin/`: HTML-сторінки адмін-панелі.
    *   `assets/`: Статичні ресурси.
*   `.env`: Локальні змінні середовища.
*   `package.json`: Залежності та скрипти проекту.
*   `database_dump.sql`: Дамп структури бази даних.

## Подальша розробка та можливі покращення
*   Адаптивність для всіх сторінок.
*   Покращені сповіщення для користувача.
*   Пагінація для довгих списків в адмін-панелі.
*   Розширена валідація форм.
*   Модульне тестування.
